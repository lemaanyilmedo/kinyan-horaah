# מדריך הגדרת CSV לקניין הוראה

## מבנה קובץ ה-CSV

קובץ ה-CSV צריך להכיל את העמודות הבאות (בדיוק בסדר הזה):

1. **שאלה** - טקסט השאלה
2. **תשובה 1** - אפשרות תשובה ראשונה
3. **תשובה 2** - אפשרות תשובה שנייה
4. **תשובה 3** - אפשרות תשובה שלישית
5. **תשובה נכונה** - מספר התשובה הנכונה (1, 2, או 3)
6. **הסבר** - הסבר מפורט על התשובה הנכונה

## שלבי ההגדרה

### 1. יצירת Google Sheet

1. פתח Google Sheets חדש
2. העתק את התוכן מקובץ `questions_template.csv` לגיליון
3. שורה ראשונה היא כותרות - אל תמחק אותה
4. הוסף שאלות נוספות בשורות הבאות

### 2. פרסום כ-CSV

1. לחץ על **File** > **Share** > **Publish to web**
2. בחר **Entire Document** או את הגיליון הספציפי
3. בחר פורמט **Comma-separated values (.csv)**
4. לחץ **Publish**
5. העתק את ה-URL שמתקבל

### 3. עדכון הקוד

פתח את הקובץ `app.js` ועדכן את ה-URLs בשורות 1-4:

```javascript
const CSV_URLS = {
    shabbat: 'https://docs.google.com/spreadsheets/d/e/YOUR_SHABBAT_SHEET_ID/pub?output=csv',
    issur_heter: 'https://docs.google.com/spreadsheets/d/e/YOUR_ISSUR_HETER_SHEET_ID/pub?output=csv'
};
```

החלף את `YOUR_SHABBAT_SHEET_ID` ו-`YOUR_ISSUR_HETER_SHEET_ID` ב-URLs שקיבלת מ-Google Sheets.

### 4. בדיקה

1. פתח את האתר בדפדפן
2. בחר מסלול מבחן
3. בקונסול (F12) תראה הודעה: "Questions loaded from CSV successfully"
4. אם יש שגיאה, השאלות יטענו מה-default שבקוד

## דוגמה לשורה ב-CSV

```csv
"אדם שהגיע לבית הכנסת בשבת והבחין שהוא שכח את הטלית בבית. הבית נמצא במרחק של 5 דקות הליכה בתוך העירוב. מה עליו לעשות?","אסור לחזור, כי אין חוזרים על טלית בשבת","מותר לחזור, אבל רק אם עדיין לא התחילה התפילה","מותר לחזור בכל מקרה, כי זה בתוך העירוב ולצורך מצווה",2,"לפי השולחן עורך (או""ח סי' ח), מותר לחזור על טלית רק אם עדיין לא התחיל להתפלל. אם כבר התחיל - אסור לחזור."
```

## טיפים חשובים

- **גרשיים בטקסט**: אם יש גרשיים בתוך טקסט, הכפל אותם (`""`)
- **פסיקים**: אם יש פסיקים בטקסט, עטוף את כל השדה במרכאות
- **שורה ראשונה**: חובה שתהיה שורת כותרות
- **מספר התשובה**: חייב להיות 1, 2, או 3 (לא 0, 1, 2)

## פתרון בעיות

### השאלות לא נטענות מה-CSV
1. בדוק שה-URL נכון ב-`app.js`
2. בדוק שהגיליון פורסם כ-public
3. בדוק בקונסול (F12) את הודעות השגיאה
4. ודא שמבנה ה-CSV תקין (6 עמודות)

### שאלות מוצגות בעברית משובשת
1. ודא שהקובץ נשמר ב-UTF-8
2. בדוק שהגיליון ב-Google Sheets מוגדר לעברית

### שאלות חסרות
1. ודא שכל שורה מכילה 6 עמודות
2. בדוק שאין שורות ריקות באמצע
3. ודא שמספר התשובה הנכונה הוא 1, 2, או 3
